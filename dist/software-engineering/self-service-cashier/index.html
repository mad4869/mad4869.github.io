<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="description" content="MAkbarD's blog"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.9.2"><meta name="og:image" content="/img/blog/logo.svg"><title>Self-service Cashier | MAD4869</title><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/index.CtxG5iuT.css"><script type="module" src="/_astro/hoisted.DZL4CV8D.js"></script></head> <body> <header class="w-screen px-px"> <nav class="flex items-center justify-between w-full px-16 py-4 border shadow-lg text-fuchsia-800 border-fuchsia-800 rounded-b-3xl shadow-fuchsia-200/20"> <a href="/" class="text-3xl font-bold" title="Home"> <img src="/_astro/logo.DoQbXR2Z_Z1GL1ve.svg" alt="Logo Blog" loading="lazy" class="drop-shadow-[0_0_10px_rgba(232,121,249,0.5)]" width="50" height="16" decoding="async"> </a> <ul class="flex items-center justify-center gap-8"> <li title="Self-introduction"> <a href="/about" class="pb-1 transition-colors border-fuchsia-400 hover:text-fuchsia-400">
About
</a> </li> <li title="Software engineering portfolio"> <a href="/software-engineering" class="pb-1 transition-colors border-fuchsia-400 hover:text-fuchsia-400">
Software Engineering
</a> </li> <li title="Writing portfolio"> <a href="/writing" class="pb-1 transition-colors border-fuchsia-400 hover:text-fuchsia-400">
Writing
</a> </li> <li title="Some random rambling about anything"> <a href="/notes" class="pb-1 transition-colors border-fuchsia-400 hover:text-fuchsia-400">
Notes
</a> </li> </ul> <ul class="flex items-center justify-center gap-4"> <li class="transition-all hover:text-fuchsia-400 hover:scale-110" title="Go to Twitter"> <a href="https://twitter.com/MAD4869" target="_blank"> <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg> </a> </li> <li class="transition-all hover:text-fuchsia-400 hover:scale-110" title="Go to Github"> <a href="https://github.com/mad4869" target="_blank"> <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 480 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path></svg> </a> </li> <li class="transition-all hover:text-fuchsia-400 hover:scale-110" title="Go to Wattpad"> <a href="https://www.wattpad.com/user/aconitin_4869" target="_blank"> <svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M13.034 3.09c-1.695.113-3.9 2.027-6.9 6.947.245-2.758.345-4.716-.857-5.743-.823-.702-2.764-.974-3.926.536C.18 6.349-.09 9.312.024 12.432c.238 6.518 2.544 8.487 4.59 8.487h.001c3.623 0 4.13-4.439 6.604-8.4-.09 1.416-.008 2.668.266 3.532 1.078 3.398 4.784 3.663 6.467.21 2.374-4.87 3.058-6.016 5.453-9.521 1.58-2.314-.252-3.812-2.374-2.735-1.09.554-2.86 1.935-5.065 4.867.387-2.23.28-5.996-2.932-5.782z"></path></svg> </a> </li> <li class="transition-transform hover:scale-110" title="Go to KaryaKarsa"> <a href="https://karyakarsa.com/aconitin/" target="_blank"> <img src="/_astro/logo-kk.qwGrKF09_Z1sqeHs.svg" alt="Logo KaryaKarsa" loading="lazy" width="10" height="10" decoding="async"> </a> </li> <li class="transition-transform hover:scale-110" title="Go to Kwikku"> <a href="https://www.kwikku.com/mad4869" target="_blank"> <img src="/_astro/logo-kwik.CgTZu3Cm_Z9Bwy4.svg" alt="Logo Kwikku" loading="lazy" width="15" height="15" decoding="async"> </a> </li> </ul> </nav> </header>  <main class="min-h-[calc(100dvh-8rem)] text-fuchsia-400 py-8 px-16 space-y-4"> <section class="flex items-center justify-between"> <div> <h1 class="text-3xl font-bold">Self-service Cashier</h1> <h6 class="">A python project to input orders data and store them inside an SQLite database.</h6> </div> <div> <p class="text-xs text-fuchsia-400/50">Python</p><p class="text-xs text-fuchsia-400/50">Data Engineering</p> </div> </section> <img src="/_astro/overtime-system.lGE-G_8n_Z1BYCEV.webp" alt="Hero Image of Self-service Cashier" class="max-w-full mx-auto transition-shadow shadow-lg rounded-xl shadow-fuchsia-200/20 hover:shadow-fuchsia-200/40" loading="lazy" width="1918" height="954" decoding="async"> <article class="prose prose-img:rounded-xl text-fuchsia-200 prose-headings:text-fuchsia-400 dark:prose-invert prose-a:text-fuchsia-200 hover:prose-a:text-fuchsia-800"> <h2 id="background-scenario">Background Scenario</h2>
<p>The owner of a large supermarket in a city in Indonesia has a plan to improve business processes by creating a self-service cashier system with the following objectives:</p>
<ul>
<li>Allowing customers to directly enter the items they purchase, along with the quantity and price of each item, along with several other features.</li>
<li>Enabling customers who are not in the city to buy goods from the supermarket.</li>
</ul>
<h2 id="requirements">Requirements</h2>
<p>The Self-service Cashier program requires the following features:</p>
<ol>
<li>Customers can enter the name, quantity, and price of items into the order list.</li>
<li>Customers can update the name, quantity, and price of previously entered items.</li>
<li>Customers can delete any or all items from the order list.</li>
<li>Customers can review the list of orders they have made.</li>
<li>Customers can receive discounts if they meet the purchase conditions.</li>
<li>Customers can view the total payment for all transactions.</li>
<li>The program can store order data into the database.</li>
</ol>
<h2 id="program-scheme">Program Scheme</h2>
<!-- ![A flowchart image that explains how the program runs](/docs/flowchart.jpg) -->
<h3 id="start">START</h3>
<ol>
<li>
<p>The customer will be prompted to enter the item name, item quantity, and item price sequentially using the <code>input_item()</code> function. <code>input_item()</code> will then check if the customer still wants to add items to the order. If they do, the customer will be asked to enter the next item’s name, quantity, and price. Once the customer has finished entering items, <code>input_item()</code> will stop functioning and return the item name, quantity, and price values in the form of a list</p>
</li>
<li>
<p>The list of item names, quantities, and prices is processed by the <code>add_item()</code> function, which pairs the items and their details into the order_items dictionary.</p>
</li>
<li>
<p>If the customer wants to modify the data in the order, they can use the <strong>update</strong> feature. There are three update options available:</p>
<ul>
<li>Item name update: <code>input_update_name()</code> will prompt the customer to enter the previous item name and the new item name to replace it. <code>update_item_name()</code> will then change the item name in <code>order_items</code> based on the customer’s input.</li>
<li>Update item quantity: <code>input_update_qty()</code> will prompt the customer to enter the name of the item for which they want to change the quantity and the new number of items. <code>update_item_qty()</code> will then adjust the quantity of items in <code>order_items</code> according to the customer’s input.</li>
<li>Item price update: <code>input_update_price()</code> will prompt the customer to enter the name of the item for which they want to change the price and the new price of the item. <code>update_item_price()</code> will then modify the price of the items in <code>order_items</code> based on the customer’s input.</li>
</ul>
</li>
<li>
<p>If a customer wants to delete data from an order, they can use the <strong>delete</strong> feature. There are two delete options available:</p>
<ul>
<li>Delete per item: <code>input_delete()</code> will prompt the customer to enter the name of the item to be deleted. <code>delete_item()</code> will then remove the specified items from order_items based on the customer’s input.</li>
<li>Delete all items: the <code>reset_transaction()</code> method will delete all contents of <code>order_items</code>.</li>
<li>Customers can add items back via <code>input_item()</code>.</li>
</ul>
</li>
<li>
<p>Customers can check the items that have been ordered through the <code>check_order()</code> function, which ensures there are no input errors. If any errors are detected, an error message is displayed, and the customer is redirected to <code>input_item()</code>. If there are no errors, the order data is returned in <code>table_items</code>, which contains the following fields:</p>
<ul>
<li>Item name</li>
<li>Number of items</li>
<li>Price per item</li>
<li>Total price</li>
</ul>
</li>
<li>
<p>If the customer finds no errors in the order list, they can proceed to check out via the <code>check_out()</code> function. <code>check_out()</code> will return the order data, and the customer will receive the following discounts:</p>
<ul>
<li>5% if the total price is more than 200,000,</li>
<li>6% if the total price is more than 300,000,</li>
<li>7% if the total price is more than 500,000.</li>
</ul>
<p>The order data will include the <code>table_items</code> with additional columns:</p>
<ul>
<li>Discount</li>
<li>Price after discount</li>
</ul>
<p>The total payment of all items will be displayed. Finally, <code>check_out()</code> will call the <code>insert_to_table()</code> function to insert the data into the database.</p>
</li>
</ol>
<h3 id="end">END</h3>
<h2 id="code-explanation">Code Explanation</h2>
<h3 id="inputspy">inputs.py</h3>
<p>The <code>inputs</code> module is a collection of functions that request input from the customer.</p>
<ul>
<li>The <code>input_item()</code> function prompts the customer to enter the name, quantity, and price of the item as long as they wish to continue adding items to the order. This function utilizes the <code>input_int()</code> function to handle <code>ValueError</code> when inputting integer values.</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> input_int</span><span style="color:#E1E4E8">(prompt: </span><span style="color:#79B8FF">str</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#F97583">    while</span><span style="color:#79B8FF"> True</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#F97583">        try</span><span style="color:#E1E4E8">: </span></span>
<span class="line"><span style="color:#F97583">            return</span><span style="color:#79B8FF"> int</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">input</span><span style="color:#E1E4E8">(prompt))</span></span>
<span class="line"><span style="color:#F97583">        except</span><span style="color:#79B8FF"> ValueError</span><span style="color:#F97583"> as</span><span style="color:#E1E4E8"> error:</span></span>
<span class="line"><span style="color:#79B8FF">            print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">error</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">. Mohon untuk memasukkan angka. Silakan coba lagi'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> input_item</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#E1E4E8">    want_to_order </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> True</span></span>
<span class="line"><span style="color:#E1E4E8">    nama_items </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> []</span></span>
<span class="line"><span style="color:#E1E4E8">    jumlah_items </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> []</span></span>
<span class="line"><span style="color:#E1E4E8">    harga_items </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> []</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    while</span><span style="color:#E1E4E8"> want_to_order:</span></span>
<span class="line"><span style="color:#E1E4E8">        nama_item </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> input</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Masukkan nama barang yang ingin dipesan: '</span><span style="color:#E1E4E8">).lower()</span></span>
<span class="line"><span style="color:#E1E4E8">        </span></span>
<span class="line"><span style="color:#F97583">        while</span><span style="color:#E1E4E8"> nama_item </span><span style="color:#F97583">==</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#79B8FF">            print</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Nama barang tidak boleh kosong. Silakan coba lagi.'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">            nama_item </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> input</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Masukkan nama barang yang ingin dipesan: '</span><span style="color:#E1E4E8">).lower()</span></span>
<span class="line"><span style="color:#E1E4E8">        </span></span>
<span class="line"><span style="color:#E1E4E8">        jumlah_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> input_int(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Masukkan jumlah </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> yang ingin dipesan: '</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">        while</span><span style="color:#E1E4E8"> jumlah_item </span><span style="color:#F97583">&#x3C;=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#79B8FF">            print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Jumlah </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> harus lebih dari 0. Silakan coba lagi.'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">            jumlah_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> input_int(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Masukkan jumlah </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> yang ingin dipesan: '</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">        harga_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> input_int(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Masukkan harga </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> yang ingin dipesan: '</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">        while</span><span style="color:#E1E4E8"> jumlah_item </span><span style="color:#F97583">&#x3C;=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#79B8FF">            print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Harga </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> harus lebih dari 0. Silakan coba lagi.'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">            harga_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> input_int(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Masukkan harga </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> yang ingin dipesan: '</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">        nama_items.append(nama_item)</span></span>
<span class="line"><span style="color:#E1E4E8">        jumlah_items.append(jumlah_item)</span></span>
<span class="line"><span style="color:#E1E4E8">        harga_items.append(harga_item)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">        while</span><span style="color:#79B8FF"> True</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            order_again </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> input</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Apakah masih ada yang ingin dipesan (Ya/Tidak)? '</span><span style="color:#E1E4E8">).lower()</span></span>
<span class="line"><span style="color:#F97583">            if</span><span style="color:#E1E4E8"> order_again </span><span style="color:#F97583">==</span><span style="color:#9ECBFF"> 'ya'</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#F97583">                break</span></span>
<span class="line"><span style="color:#F97583">            elif</span><span style="color:#E1E4E8"> order_again </span><span style="color:#F97583">==</span><span style="color:#9ECBFF"> 'tidak'</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">                want_to_order </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> False</span></span>
<span class="line"><span style="color:#F97583">                break</span></span>
<span class="line"><span style="color:#F97583">            else</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#79B8FF">                print</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Perintah yang Anda masukkan salah. Silakan coba lagi'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> nama_items, jumlah_items, harga_items</span></span>
<span class="line"></span></code></pre>
<p>As long as the value of <code>want_to_order</code> is <code>True</code>, the input process is executed, and the values are entered into the <code>name_item</code>, <code>amount_item</code>, and <code>price_item</code>.</p>
<p>The <code>name_item</code> is obtained using the built-in function <code>input()</code>, and before inserting it into the list, it is ensured that it is not empty. <code>amount_item</code> and <code>price_item</code> are obtained using <code>input_int()</code> function, which also ensures that the values are greater than 0.</p>
<p>Then, it is checked if the customer wants to add more items to the order or not: if yes, the loop returns to the beginning; otherwise, <code>want_to_order</code> is set to <code>False</code>, and the loop stops.</p>
<p>Once all items are inputted, the function returns a list of <code>items_name</code>, <code>items_amount</code>, and <code>items_price</code>.</p>
<ul>
<li>The <code>input_update()</code> function requests input for the name of the item whose data the customer wants to update. Then, <code>input_update()</code> verifies if the item name is present in <code>order_items</code>. If it is found, the function returns <code>item_name</code>.</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> input_update</span><span style="color:#E1E4E8">(prompt: </span><span style="color:#79B8FF">str</span><span style="color:#E1E4E8">, order_items: </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">    nama_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">input</span><span style="color:#E1E4E8">(prompt)).title()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    while</span><span style="color:#E1E4E8"> nama_item </span><span style="color:#F97583">not</span><span style="color:#F97583"> in</span><span style="color:#E1E4E8"> order_items:</span></span>
<span class="line"><span style="color:#79B8FF">        print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Barang tidak ada dalam daftar pesanan Anda: </span><span style="color:#79B8FF">{list</span><span style="color:#E1E4E8">(order_items.keys())</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">. Silakan coba lagi.'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">        nama_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">input</span><span style="color:#E1E4E8">(prompt)).title()</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> nama_item</span></span>
<span class="line"></span></code></pre>
<ul>
<li>The <code>input_update_name()</code>, <code>input_update_qty()</code>, <code>input_update_price()</code>, and <code>input_delete()</code> functions receive inputs from the <code>input_update()</code> function.</li>
</ul>
<p><code>input_update_name()</code> returns the current <code>item_name</code> and the new item name inputted by the customer.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> input_update_name</span><span style="color:#E1E4E8">(order_items: </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">    nama_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> input_update(</span><span style="color:#9ECBFF">'Masukkan nama barang yang ingin diupdate: '</span><span style="color:#E1E4E8">, order_items)</span></span>
<span class="line"><span style="color:#E1E4E8">    update_nama_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">input</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Masukkan nama barang yang baru: '</span><span style="color:#E1E4E8">)).title()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    while</span><span style="color:#E1E4E8"> update_nama_item </span><span style="color:#F97583">==</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#79B8FF">            print</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Nama barang yang baru tidak boleh kosong. Silakan coba lagi.'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">            update_nama_item </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> input</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Masukkan nama barang yang baru: '</span><span style="color:#E1E4E8">).title()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    while</span><span style="color:#E1E4E8"> update_nama_item </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> nama_item:</span></span>
<span class="line"><span style="color:#79B8FF">        print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Nama barang yang baru tidak boleh sama dengan sebelumnya: </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">        update_nama_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">input</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Masukkan nama barang yang baru: '</span><span style="color:#E1E4E8">)).title()</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> nama_item, update_nama_item</span></span>
<span class="line"></span></code></pre>
<p><code>input_update_qty()</code> returns the <code>item_name</code> and the new quantity inputted by the customer.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> input_update_qty</span><span style="color:#E1E4E8">(order_items: </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">    nama_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> input_update(</span><span style="color:#9ECBFF">'Masukkan nama barang yang jumlahnya ingin diupdate: '</span><span style="color:#E1E4E8">, order_items)</span></span>
<span class="line"><span style="color:#E1E4E8">    update_jumlah_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> input_int(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Masukkan jumlah </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item.lower()</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> yang baru: '</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    while</span><span style="color:#E1E4E8"> update_jumlah_item </span><span style="color:#F97583">&#x3C;=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#79B8FF">            print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Jumlah </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> harus lebih dari 0. Silakan coba lagi.'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">            update_jumlah_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> input_int(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Masukkan jumlah </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> yang baru: '</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    while</span><span style="color:#E1E4E8"> update_jumlah_item </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> order_items[nama_item][</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#79B8FF">        print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Jumlah </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item.lower()</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> tidak boleh sama dengan sebelumnya: </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">order_items[nama_item][</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">]</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">        update_jumlah_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> input_int(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Masukkan jumlah </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item.lower()</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> yang baru: '</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> nama_item, update_jumlah_item</span></span>
<span class="line"></span></code></pre>
<p><code>input_update_price()</code> returns the <code>item_name</code> and the new price inputted by the customer.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> input_update_price</span><span style="color:#E1E4E8">(order_items: </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">    nama_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> input_update(</span><span style="color:#9ECBFF">'Masukkan nama barang yang harganya ingin diupdate: '</span><span style="color:#E1E4E8">, order_items)</span></span>
<span class="line"><span style="color:#E1E4E8">    update_harga_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> input_int(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Masukkan harga </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item.lower()</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> yang baru: '</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    while</span><span style="color:#E1E4E8"> update_harga_item </span><span style="color:#F97583">&#x3C;=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#79B8FF">            print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Harga </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> harus lebih dari 0. Silakan coba lagi.'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">            update_harga_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> input_int(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Masukkan harga </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> yang baru: '</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    while</span><span style="color:#E1E4E8"> update_harga_item </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> order_items[nama_item][</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#79B8FF">        print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Harga </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item.lower()</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> tidak boleh sama dengan sebelumnya: </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">order_items[nama_item][</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">        update_harga_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> input_int(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Masukkan harga </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item.lower()</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> yang baru: '</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> nama_item, update_harga_item</span></span>
<span class="line"></span></code></pre>
<p><code>input_delete()</code> returns the name of the item whose data the customer wants to delete.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> input_delete</span><span style="color:#E1E4E8">(order_items: </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> input_update(</span><span style="color:#9ECBFF">'Masukkan nama barang yang ingin dihapus: '</span><span style="color:#E1E4E8">, order_items)</span></span>
<span class="line"></span></code></pre>
<h3 id="add_itempy">add_item.py</h3>
<p>The <code>add_item</code> module contains only one function, which is responsible for inserting the return from <code>input_item()</code> into the dictionary.</p>
<p>The <code>add_item()</code> function accepts arguments in the form of lists <code>name_items</code>, <code>amount_items</code>, and <code>price_items</code>, and returns them in the form of a dictionary <code>order_items</code>, where the key is <code>name_item</code>, and the value is a list containing <code>amount_item</code> and <code>price_item</code>.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> add_item</span><span style="color:#E1E4E8">(nama_items: </span><span style="color:#79B8FF">list</span><span style="color:#E1E4E8">, jumlah_items: </span><span style="color:#79B8FF">list</span><span style="color:#E1E4E8">, harga_items: </span><span style="color:#79B8FF">list</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">    order_items </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {}</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">len</span><span style="color:#E1E4E8">(nama_items)):</span></span>
<span class="line"><span style="color:#E1E4E8">        order_items[nama_items[i].title()] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [jumlah_items[i], harga_items[i]]</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#79B8FF">    print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Daftar barang yang Anda pesan adalah sebagai berikut: </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">order_items</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> order_items</span></span>
<span class="line"></span></code></pre>
<h3 id="update_itempy">update_item.py</h3>
<p>The <code>update_item</code> module contains functions that receive inputs from update functions based on the details of the item to be updated.</p>
<ul>
<li><code>update_item_name()</code> accepts <code>item_name</code>, <code>update_item_name</code>, and <code>order_items</code> as arguments, and then replaces the <code>item_name</code> key inside <code>order_items</code> with the <code>update_item_name</code> key.</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> update_item_name</span><span style="color:#E1E4E8">(nama_item: </span><span style="color:#79B8FF">str</span><span style="color:#E1E4E8">, update_nama_item: </span><span style="color:#79B8FF">str</span><span style="color:#E1E4E8">, order_items: </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">        order_items[update_nama_item] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> order_items.pop(nama_item)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">        print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">update_nama_item</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> berhasil ditambahkan!</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span></span>
<span class="line"><span style="color:#F97583">        f</span><span style="color:#9ECBFF">'Daftar barang yang Anda pesan adalah sebagai berikut: </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">order_items</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    except</span><span style="color:#79B8FF"> KeyError</span><span style="color:#F97583"> as</span><span style="color:#E1E4E8"> error:</span></span>
<span class="line"><span style="color:#79B8FF">        print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">update_nama_item</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> gagal ditambahkan. </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">error</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">. Silakan coba lagi.'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span></code></pre>
<ul>
<li><code>update_item_qty()</code> accepts <code>item_name</code>, <code>update_item_number</code>, and <code>order_items</code> as arguments, then replaces the quantity of <code>item_name</code> in <code>order_items</code> with <code>update_item_number</code>.</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> update_item_qty</span><span style="color:#E1E4E8">(nama_item: </span><span style="color:#79B8FF">str</span><span style="color:#E1E4E8">, update_jumlah_item: </span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, order_items: </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">        order_items[nama_item][</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> update_jumlah_item</span></span>
<span class="line"><span style="color:#E1E4E8">        </span></span>
<span class="line"><span style="color:#79B8FF">        print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Jumlah </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item.lower()</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> berhasil diubah!</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span></span>
<span class="line"><span style="color:#F97583">        f</span><span style="color:#9ECBFF">'Daftar barang yang Anda pesan adalah sebagai berikut: </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">order_items</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    except</span><span style="color:#79B8FF"> KeyError</span><span style="color:#F97583"> as</span><span style="color:#E1E4E8"> error:</span></span>
<span class="line"><span style="color:#79B8FF">        print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Pergantian jumlah </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item.lower()</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> gagal. </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">error</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">. Silakan coba lagi.'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span></code></pre>
<ul>
<li><code>update_item_price()</code> accepts <code>item_name</code>, <code>update_item_price</code>, and <code>order_items</code> as arguments, then replaces the price of <code>item_name</code> in <code>order_items</code> with <code>update_item_price</code>.</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> update_item_price</span><span style="color:#E1E4E8">(nama_item: </span><span style="color:#79B8FF">str</span><span style="color:#E1E4E8">, update_harga_item: </span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, order_items: </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">        order_items[nama_item][</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> update_jumlah_item</span></span>
<span class="line"><span style="color:#E1E4E8">        </span></span>
<span class="line"><span style="color:#79B8FF">        print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Jumlah </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item.lower()</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> berhasil diubah!</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span></span>
<span class="line"><span style="color:#F97583">        f</span><span style="color:#9ECBFF">'Daftar barang yang Anda pesan adalah sebagai berikut: </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">order_items</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    except</span><span style="color:#79B8FF"> KeyError</span><span style="color:#F97583"> as</span><span style="color:#E1E4E8"> error:</span></span>
<span class="line"><span style="color:#79B8FF">        print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Pergantian jumlah </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item.lower()</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> gagal. </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">error</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">. Silakan coba lagi.'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span></code></pre>
<h3 id="delete_itempy">delete_item.py</h3>
<p>The <code>delete_item</code> module contains functions that will remove data from <code>order_items</code>.</p>
<ul>
<li>The <code>delete_item()</code> function accepts <code>item_name</code> and <code>order_items</code> as arguments, and then removes a row of data inside <code>order_items</code> with the key <code>item_name</code>.</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> delete_item</span><span style="color:#E1E4E8">(nama_item: </span><span style="color:#79B8FF">str</span><span style="color:#E1E4E8">, order_items: </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">): </span></span>
<span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">        order_items.pop(nama_item)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">        print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">nama_item</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> berhasil dihapus!</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span></span>
<span class="line"><span style="color:#F97583">              f</span><span style="color:#9ECBFF">'Daftar barang yang Anda pesan adalah sebagai berikut: </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">order_items</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    except</span><span style="color:#79B8FF"> KeyError</span><span style="color:#F97583"> as</span><span style="color:#E1E4E8"> error:</span></span>
<span class="line"><span style="color:#79B8FF">        print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Penghapusan gagal. </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">error</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">. Silakan coba lagi.'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span></code></pre>
<ul>
<li>The <code>reset_transaction()</code> function accepts <code>order_items</code> as an argument and then clears its contents.</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> reset_transaction</span><span style="color:#E1E4E8">(order_items: </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">    order_items.clear()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#79B8FF"> len</span><span style="color:#E1E4E8">(order_items) </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#79B8FF">        print</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Semua barang pesanan anda telah dihapus!'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span></code></pre>
<h3 id="check_orderpy">check_order.py</h3>
<p>The <code>check_order</code> module contains a function that accepts <code>order_items</code> as an argument and displays it in tabular form with the help of the <code>tabulate</code> library.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> tabulate </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> tabulate</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> check_order</span><span style="color:#E1E4E8">(order_items: </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> key, value </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> order_items.items():</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#9ECBFF"> ''</span><span style="color:#F97583"> or</span><span style="color:#79B8FF"> len</span><span style="color:#E1E4E8">(value) </span><span style="color:#F97583">!=</span><span style="color:#79B8FF"> 2</span><span style="color:#F97583"> or</span><span style="color:#79B8FF"> 0</span><span style="color:#F97583"> in</span><span style="color:#E1E4E8"> value </span><span style="color:#F97583">or</span><span style="color:#79B8FF"> None</span><span style="color:#F97583"> in</span><span style="color:#E1E4E8"> value:</span></span>
<span class="line"><span style="color:#79B8FF">            print</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Terdapat kesalahan dalam input data. Silakan coba lagi.'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">            return</span></span>
<span class="line"></span></code></pre>
<p>First, it checks if there is missing data from <code>order_items</code> and will display an error message if:</p>
<ul>
<li>there is an empty key</li>
<li>there are missing item quantities or prices</li>
<li>there is an item quantity or price that has a value of 0 or None.</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#E1E4E8">    table_items </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {}</span></span>
<span class="line"><span style="color:#E1E4E8">    table_items[</span><span style="color:#9ECBFF">'No'</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [i </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#F97583"> for</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">len</span><span style="color:#E1E4E8">(order_items))]</span></span>
<span class="line"><span style="color:#E1E4E8">    table_items[</span><span style="color:#9ECBFF">'Nama Item'</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> list</span><span style="color:#E1E4E8">(order_items.keys())</span></span>
<span class="line"><span style="color:#E1E4E8">    table_items[</span><span style="color:#9ECBFF">'Jumlah Item'</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">list</span><span style="color:#E1E4E8">(order_items.values())[i][</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">for</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">len</span><span style="color:#E1E4E8">(order_items))]</span></span>
<span class="line"><span style="color:#E1E4E8">    table_items[</span><span style="color:#9ECBFF">'Harga Item'</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">list</span><span style="color:#E1E4E8">(order_items.values())[i][</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">for</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">len</span><span style="color:#E1E4E8">(order_items))]</span></span>
<span class="line"><span style="color:#E1E4E8">    table_items[</span><span style="color:#9ECBFF">'Total Harga'</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> (</span></span>
<span class="line"><span style="color:#E1E4E8">        [(</span><span style="color:#79B8FF">list</span><span style="color:#E1E4E8">(order_items.values())[i][</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">]) </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">list</span><span style="color:#E1E4E8">(order_items.values())[i][</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]) </span></span>
<span class="line"><span style="color:#F97583">        for</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">len</span><span style="color:#E1E4E8">(order_items))]</span></span>
<span class="line"><span style="color:#E1E4E8">    )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">    print</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Tidak ada kesalahan dalam input data. Silakan cek kembali pesanan Anda:'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#79B8FF">    print</span><span style="color:#E1E4E8">(tabulate(table_items, </span><span style="color:#FFAB70">headers</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'keys'</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">tablefmt</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'grid'</span><span style="color:#E1E4E8">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> table_items</span></span>
<span class="line"></span></code></pre>
<p>If there are no errors, the data in <code>order_items</code> will be transformed into <code>table_items</code> with the following columns:</p>
<ul>
<li>No.</li>
<li>Item Name</li>
<li>Number of Items</li>
<li>Item Prices</li>
<li>Total Price (Item Price multiplied by Number of Items)</li>
</ul>
<p>Lastly, it displays no error message and shows <code>table_items</code> in tabular form using <code>tabulate</code>, and then returns <code>table_items</code>.</p>
<h3 id="check_outpy">check_out.py</h3>
<p>The <code>check_out</code> module contains a function that accepts <code>table_items</code> as an argument and then inserts it into the SQLite database with the help of the function from the <code>insert_to_table</code> module.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> tabulate </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> tabulate</span></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> insert_to_table </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> insert_to_table</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> check_out</span><span style="color:#E1E4E8">(table_items: </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">    diskon </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> []</span></span>
<span class="line"><span style="color:#E1E4E8">    harga_diskon </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> []</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">        for</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">len</span><span style="color:#E1E4E8">(table_items[</span><span style="color:#9ECBFF">'No'</span><span style="color:#E1E4E8">])):</span></span>
<span class="line"><span style="color:#E1E4E8">        diskon_per_item </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> table_items[</span><span style="color:#9ECBFF">'Total Harga'</span><span style="color:#E1E4E8">][i] </span><span style="color:#F97583">></span><span style="color:#79B8FF"> 500_000</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            diskon_per_item </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> round</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0.07</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8"> table_items[</span><span style="color:#9ECBFF">'Total Harga'</span><span style="color:#E1E4E8">][i])</span></span>
<span class="line"><span style="color:#F97583">        elif</span><span style="color:#E1E4E8"> table_items[</span><span style="color:#9ECBFF">'Total Harga'</span><span style="color:#E1E4E8">][i] </span><span style="color:#F97583">></span><span style="color:#79B8FF"> 300_000</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            diskon_per_item </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> round</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0.06</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8"> table_items[</span><span style="color:#9ECBFF">'Total Harga'</span><span style="color:#E1E4E8">][i])</span></span>
<span class="line"><span style="color:#F97583">        elif</span><span style="color:#E1E4E8"> table_items[</span><span style="color:#9ECBFF">'Total Harga'</span><span style="color:#E1E4E8">][i] </span><span style="color:#F97583">></span><span style="color:#79B8FF"> 200_000</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            diskon_per_item </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> round</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0.05</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8"> table_items[</span><span style="color:#9ECBFF">'Total Harga'</span><span style="color:#E1E4E8">][i])</span></span>
<span class="line"><span style="color:#E1E4E8">        </span></span>
<span class="line"><span style="color:#E1E4E8">        harga_diskon_per_item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> table_items[</span><span style="color:#9ECBFF">'Total Harga'</span><span style="color:#E1E4E8">][i] </span><span style="color:#F97583">-</span><span style="color:#E1E4E8"> diskon_per_item</span></span>
<span class="line"><span style="color:#E1E4E8">        </span></span>
<span class="line"><span style="color:#E1E4E8">        diskon.append(diskon_per_item)</span></span>
<span class="line"><span style="color:#E1E4E8">        harga_diskon.append(harga_diskon_per_item)</span></span>
<span class="line"></span></code></pre>
<p>Before the data is entered into the database, the customer will receive a discount according to the following conditions:</p>
<ul>
<li>5% if the total price per item is more than 200,000</li>
<li>6% if the total price per item is more than 300,000</li>
<li>7% if the total price per item is more than 500,000</li>
</ul>
<p>The discounts and prices after the discount will be included in the list.</p>
<p>A loop is performed according to the number of items, then the discount for each item is calculated, and the result is added to the <code>discount</code> list. Additionally, the price of each item, reduced by the discount, is entered into the <code>price_discount</code> list.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#E1E4E8">    table_items[</span><span style="color:#9ECBFF">'Diskon'</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> diskon</span></span>
<span class="line"><span style="color:#E1E4E8">    table_items[</span><span style="color:#9ECBFF">'Harga Setelah Diskon'</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> harga_diskon</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">    print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Detail transaksi Anda adalah sebagai berikut:'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#79B8FF">    print</span><span style="color:#E1E4E8">(tabulate(table_items, </span><span style="color:#FFAB70">headers</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'keys'</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">tablefmt</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'grid'</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#79B8FF">    print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Total pembayaran Anda adalah sebesar: </span><span style="color:#79B8FF">{sum</span><span style="color:#E1E4E8">(harga_diskon)</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    insert_to_table(table_items)</span></span>
<span class="line"></span></code></pre>
<p>The <code>discount</code> and <code>discount_price</code> lists are added to <code>table_items</code> in the Discount and Price After Discount columns.</p>
<p>It displays all transactions in <code>table_items</code> using <code>tabulate</code>, along with the total payment for all items calculated using the built-in <code>sum()</code> function.</p>
<p>Finally, the data in <code>table_items</code> is inserted into the SQLite database using the <code>insert_to_table()</code> function.</p>
<h3 id="insert_to_tablepy">insert_to_table.py</h3>
<p>The <code>insert_to_table</code> module contains a function that accepts <code>table_items</code> as an argument and then inserts it into a SQLite database with the help of the <code>sqlalchemy</code> library.</p>
<p>The database engine is created separately in the <code>database_engine</code> module.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> sqlalchemy </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> create_engine</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> database_engine</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> create_engine(</span><span style="color:#9ECBFF">'sqlite:///database/project.db'</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">echo</span><span style="color:#F97583">=</span><span style="color:#79B8FF">True</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> sqlalchemy </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> text</span></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> database_engine </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> database_engine </span><span style="color:#F97583">as</span><span style="color:#79B8FF"> ENGINE</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> insert_to_table</span><span style="color:#E1E4E8">(table_items: </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#79B8FF">    CONN</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> ENGINE().connect()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    insert_query </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> text(</span></span>
<span class="line"><span style="color:#9ECBFF">        """</span></span>
<span class="line"><span style="color:#9ECBFF">        INSERT INTO items(</span></span>
<span class="line"><span style="color:#9ECBFF">            nama_item,</span></span>
<span class="line"><span style="color:#9ECBFF">            jumlah_item,</span></span>
<span class="line"><span style="color:#9ECBFF">            harga_item,</span></span>
<span class="line"><span style="color:#9ECBFF">            total_harga,</span></span>
<span class="line"><span style="color:#9ECBFF">            diskon,</span></span>
<span class="line"><span style="color:#9ECBFF">            harga_diskon</span></span>
<span class="line"><span style="color:#9ECBFF">        )</span></span>
<span class="line"><span style="color:#9ECBFF">        VALUES(</span></span>
<span class="line"><span style="color:#9ECBFF">            :nama_item,</span></span>
<span class="line"><span style="color:#9ECBFF">            :jumlah_item,</span></span>
<span class="line"><span style="color:#9ECBFF">            :harga_item,</span></span>
<span class="line"><span style="color:#9ECBFF">            :total_harga,</span></span>
<span class="line"><span style="color:#9ECBFF">            :diskon,</span></span>
<span class="line"><span style="color:#9ECBFF">            :harga_diskon</span></span>
<span class="line"><span style="color:#9ECBFF">        )</span></span>
<span class="line"><span style="color:#9ECBFF">        """</span></span>
<span class="line"><span style="color:#E1E4E8">    )</span></span>
<span class="line"></span></code></pre>
<p>First, create a connection to the database by calling the engine and using the <code>connect()</code> method.</p>
<p>Next, create <code>insert_query</code> with the help of the <code>text()</code> function from the <code>sqlalchemy</code> library. The data will be inserted into the <code>items</code> table with the following columns:</p>
<ul>
<li>item_id (omitted in the query due to autoincrement)</li>
<li>item_name</li>
<li>number_item</li>
<li>item_price</li>
<li>total price</li>
<li>discount</li>
<li>price_discount</li>
</ul>
<p>Each value is marked with the name of the respective column.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#F97583">        for</span><span style="color:#E1E4E8"> (nama_item, jumlah_item, harga_item, total_harga, diskon, harga_diskon) </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> zip</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">            table_items[</span><span style="color:#9ECBFF">'Nama Item'</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">            table_items[</span><span style="color:#9ECBFF">'Jumlah Item'</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">            table_items[</span><span style="color:#9ECBFF">'Harga Item'</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">            table_items[</span><span style="color:#9ECBFF">'Total Harga'</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">            table_items[</span><span style="color:#9ECBFF">'Diskon'</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">            table_items[</span><span style="color:#9ECBFF">'Harga Setelah Diskon'</span><span style="color:#E1E4E8">]):</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">            CONN</span><span style="color:#E1E4E8">.execute(insert_query, {</span></span>
<span class="line"><span style="color:#9ECBFF">                'nama_item'</span><span style="color:#E1E4E8">: nama_item,</span></span>
<span class="line"><span style="color:#9ECBFF">                'jumlah_item'</span><span style="color:#E1E4E8">: jumlah_item,</span></span>
<span class="line"><span style="color:#9ECBFF">                'harga_item'</span><span style="color:#E1E4E8">: harga_item,</span></span>
<span class="line"><span style="color:#9ECBFF">                'total_harga'</span><span style="color:#E1E4E8">: total_harga,</span></span>
<span class="line"><span style="color:#9ECBFF">                'diskon'</span><span style="color:#E1E4E8">: diskon,</span></span>
<span class="line"><span style="color:#9ECBFF">                'harga_diskon'</span><span style="color:#E1E4E8">: harga_diskon</span></span>
<span class="line"><span style="color:#E1E4E8">                })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">        CONN</span><span style="color:#E1E4E8">.commit()</span></span>
<span class="line"></span></code></pre>
<p>The code is executed within <code>try</code> and <code>except</code> blocks to handle errors that may occur when executing the query.</p>
<p>If there are no errors, the code loops through the list inside each <code>table_items</code> column using the built-in <code>zip()</code> function.</p>
<p>Inside the loop, the query is executed with the <code>execute()</code> method, using the <code>insert_query</code> argument and a dictionary where:</p>
<ul>
<li>key: column name of the <code>items</code> table that corresponds to the marked values.</li>
<li>value: variable that stores data from <code>table_items</code>.</li>
</ul>
<p>Once the loop is completed, a <code>commit</code> operation is performed to save the changes in the database using the <code>commit()</code> method.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">    except</span><span style="color:#79B8FF"> Exception</span><span style="color:#F97583"> as</span><span style="color:#E1E4E8"> error:</span></span>
<span class="line"><span style="color:#79B8FF">        print</span><span style="color:#E1E4E8">(error)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">        CONN</span><span style="color:#E1E4E8">.rollback()</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    finally</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#79B8FF">        CONN</span><span style="color:#E1E4E8">.close()</span></span>
<span class="line"></span></code></pre>
<p>If an error occurs, it displays an error message and performs a <strong>rollback</strong> to return the database to its original state using the <code>rollback()</code> method.</p>
<p>After all tasks are completed, the connection with the database is closed with the <code>close()</code> method.</p>
<p><strong>PS:</strong> Before running <code>insert_to_table()</code>, the <code>items</code> table in the SQLite database has been created with the function in the <code>create_table</code> module.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> sqlalchemy </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> text</span></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> database_engine </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> database_engine </span><span style="color:#F97583">as</span><span style="color:#79B8FF"> ENGINE</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> create_table</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#79B8FF">    CONN</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> ENGINE().connect()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    create_query </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> text(</span></span>
<span class="line"><span style="color:#9ECBFF">        """</span></span>
<span class="line"><span style="color:#9ECBFF">        CREATE TABLE items(</span></span>
<span class="line"><span style="color:#9ECBFF">            item_id INTEGER PRIMARY KEY AUTOINCREMENT,</span></span>
<span class="line"><span style="color:#9ECBFF">            nama_item TEXT NOT NULL,</span></span>
<span class="line"><span style="color:#9ECBFF">            jumlah_item INTEGER NOT NULL CHECK(jumlah_item > 0),</span></span>
<span class="line"><span style="color:#9ECBFF">            harga_item INTEGER NOT NULL CHECK(harga_item > 0),</span></span>
<span class="line"><span style="color:#9ECBFF">            total_harga INTEGER NOT NULL,</span></span>
<span class="line"><span style="color:#9ECBFF">            diskon INTEGER,</span></span>
<span class="line"><span style="color:#9ECBFF">            harga_diskon INTEGER NOT NULL</span></span>
<span class="line"><span style="color:#9ECBFF">        )</span></span>
<span class="line"><span style="color:#9ECBFF">        """</span></span>
<span class="line"><span style="color:#E1E4E8">    )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#79B8FF">        CONN</span><span style="color:#E1E4E8">.execute(create_query)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">        CONN</span><span style="color:#E1E4E8">.commit()</span></span>
<span class="line"><span style="color:#F97583">    except</span><span style="color:#79B8FF"> Exception</span><span style="color:#F97583"> as</span><span style="color:#E1E4E8"> error:</span></span>
<span class="line"><span style="color:#79B8FF">        print</span><span style="color:#E1E4E8">(error)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">        CONN</span><span style="color:#E1E4E8">.rollback()</span></span>
<span class="line"><span style="color:#F97583">    finally</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#79B8FF">        CONN</span><span style="color:#E1E4E8">.close()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">create_table()</span></span>
<span class="line"></span></code></pre>
<h2 id="test-case">Test Case</h2>
<h3 id="test-case-1">Test Case 1</h3>
<p>The customer used the <code>add_item()</code> function to add two new items. The items added are as follows:</p>
<ol>
<li>Item Name: Fried Chicken, Qty: 2, Price: 20,000</li>
<li>Item Name: Toothpaste, Qty: 3, Price: 15,000</li>
</ol>
<p>Test case results:</p>
<!-- ![Test case 1](docs/test/test_case_1.png) -->
<h3 id="test-case-2">Test Case 2</h3>
<p>The customer used the <code>delete_item()</code> function to remove an incorrect item from the purchase. The item they wanted to delete is <strong>Toothpaste.</strong></p>
<p>Test case results:</p>
<!-- ![Test case 2](docs/test/test_case_2.png) -->
<h3 id="test-case-3">Test Case 3</h3>
<p>The customer used the <code>reset_transaction()</code> function to delete all the items they added because they entered the wrong items they wanted to purchase.</p>
<p>Test case results:</p>
<!-- ![Test case 3](docs/test/test_case_3.png) -->
<h3 id="test-case-4">Test Case 4</h3>
<p>After the customer has finished adding items back, they want to calculate the total amount to be paid and view the items purchased using the <code>check_out()</code> function.</p>
<p>Test case results:</p>
<ol>
<li>Input different items</li>
</ol>
<!-- ![Test case 4](docs/test/test_case_4a.png) -->
<ol start="2">
<li>Check order</li>
</ol>
<!-- ![Test case 4](docs/test/test_case_4b.png) -->
<ol start="3">
<li>Check out</li>
</ol>
<!-- ![Test case 4](docs/test/test_case_4c.png) -->
<ol start="4">
<li>Data successfully inserted into the database</li>
</ol>
<!-- ![Test case 4](docs/test/test_case_4d.png) -->
<p>The table can be viewed using <code>select_table</code>.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="py"><code><span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> sqlalchemy </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> text</span></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> database_engine </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> database_engine </span><span style="color:#F97583">as</span><span style="color:#79B8FF"> ENGINE</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> select_table</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#79B8FF">    CONN</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> ENGINE().connect()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    select_query </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> text(</span></span>
<span class="line"><span style="color:#9ECBFF">        """</span></span>
<span class="line"><span style="color:#9ECBFF">        SELECT * FROM items</span></span>
<span class="line"><span style="color:#9ECBFF">        """</span></span>
<span class="line"><span style="color:#E1E4E8">    )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    table </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> CONN</span><span style="color:#E1E4E8">.execute(select_query)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> row </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> table:</span></span>
<span class="line"><span style="color:#79B8FF">            print</span><span style="color:#E1E4E8">(row)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">    CONN</span><span style="color:#E1E4E8">.close()</span></span>
<span class="line"></span></code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>The Self-service Cashier program is designed to take input from customers and automatically enter it into an SQLite database.</p>
<p>Some suggestions to improve the program are as follows:</p>
<ol>
<li>Refactoring the script into an Object-Oriented Programming (OOP) format to enhance code organization and maintainability.</li>
<li>Adding additional features, such as payment transaction handling, to further enhance the functionality and user experience of the program.</li>
</ol> </article> </main>  <footer class="flex items-center justify-between w-screen px-16 py-4 text-xs border-t border-fuchsia-400 text-fuchsia-400"> <p>&copy; 2024. All rights reserved.</p> <span class="flex items-center gap-2"> <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"></path><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"></path></svg> <a href="mailto:mad4869@gmail.com" target="_blank" title="Reach via email" class="hover:underline">mad4869@gmail.com</a> </span> </footer>  </body> </html>